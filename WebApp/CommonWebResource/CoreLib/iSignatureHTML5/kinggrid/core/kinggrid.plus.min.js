var $jscomp={scope:{},findInternal:function(b,g,d){b instanceof String&&(b=String(b));for(var h=b.length,f=0;f<h;f++){var p=b[f];if(g.call(d,p,f,b))return{i:f,v:p}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(b,g,d){if(d.get||d.set)throw new TypeError("ES3 does not support getters and setters.");b!=Array.prototype&&b!=Object.prototype&&(b[g]=d.value)};
$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(b,g,d,h){if(g){d=$jscomp.global;b=b.split(".");for(h=0;h<b.length-1;h++){var f=b[h];f in d||(d[f]={});d=d[f]}b=b[b.length-1];h=d[b];g=g(h);g!=h&&null!=g&&$jscomp.defineProperty(d,b,{configurable:!0,writable:!0,value:g})}};
$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(b,d){return $jscomp.findInternal(this,b,d).v}},"es6-impl","es3");(function(b){b.zepto&&(window.jQuery=b,b.noop||(b.noop=function(){}),["width","height"].forEach(function(g){var d=g.replace(/./,function(d){return d[0].toUpperCase()});b.fn["outer"+d]=function(d){var b=this;if(b){var h=parseInt(b.css(g));({width:["left","right"],height:["top","bottom"]})[g].forEach(function(f){d&&(h+=parseInt(b.css("margin-"+f),10))});return h}return null}}))})($);
(function(b,g){var d=g.Utils,h=!1;b.JSON&&(h='{"x":"\u4e2d"}'!==b.JSON.stringify({x:"\u4e2d"}));var f=b.dialog;f&&f.create&&(f.create.prototype.button=function(a){a=a||[];var c=this,n="",d=0;this.callbacks={};"string"===typeof a?(n=a,d++):$.each(a,function(a,b){var e=b.id=b.id||b.value;"cancel"==e&&(b.value="\u53d6\u6d88");var l="";c.callbacks[e]=b.callback;!1===b.display?l=' style="display:none"':d++;n+='<button type="button" i-id="'+e+'"'+l+(b.disabled?" disabled":"")+(b.autofocus?h?' class="ui-dialog-autofocus"':
' autofocus class="ui-dialog-autofocus"':"")+">"+b.value+"</button>";c._$("button").on("click","[i-id="+e+"]",function(a){$(this).attr("disabled")||c._trigger(e);a.preventDefault()})});this._$("button").html(n);this._$("footer")[d?"show":"hide"]();return this});var p=function(a){var c=a.imgdata;0==c.indexOf(a.signsn)&&(c=a.imgdata.substring(65));return d.Base64.of().encodeByte(d.Base64.of(a.signsn).decodeByte(c))},q={},u;u=function(a,c){c.id=a;return b.dialog(c)};var m=function(a,c){var b=this;if(!(b instanceof
m))return new m(a,c);var l=d.extend({},e.dialogConfig,c),k=l.onOk;k&&(delete l.onOk,l.ok=function(){return k.call(b)});var f=l.onCancel;f&&(delete l.onCancel,l.cancel=function(){return f.call(b)});b.init(a,l);b.options=c;b.id=a},f=m.prototype;f.init=function(a,c){this[0]=u(a,c);return this};f.on=function(a,c){this[0]["on"+a]=c};f.show=function(a){this.options.iconClose&&this[0]._$("close").hide();this.options.onShow&&this.options.onShow.call(this);this[0].show();return this};f.remove=function(){this[0].remove();
delete this[0]};f.close=function(){this[0].close();return this};f.content=function(a){this[0].content(a);return this};f.find=function(a){return this[0]._popup.find(a)};Thenjs.onerror=function(a){e.hideLoading();if(d.is("String",a))"none"!=a&&e.alert(g.msg(a,"then"));else throw a;};var r=function(a,c){var b=this;b.target=$(a);c&&$.each(c,function(a,c){if("function"===typeof b[a])b[a](c);else b[a]=c});b.init()};d.extend(r.prototype,{running:!1,index:0,animate:!0,init:function(){var a=this.target,c=
this.wrapper=a.find(".kg-wrapper"),b=this.guide=a.find(".kg-guide"),a=c.children(".kg-slide"),d=parseInt(a.css("height")),e=a.outerWidth(!0);console.log(d,e);c.css({height:d,width:a.length*e});this.count=a.length;c=parseFloat(this.index,10)||0;a.each(function(a){this.setAttribute("index",a);b.append('<span index="'+a+'"></span>')});this._active(c)},_active:function(a){var c=this.index;this.wrapper.children().eq(c).removeClass("active");this.guide.children().eq(c).removeClass("active");this.wrapper.children().eq(a).addClass("active");
this.guide.children().eq(a).addClass("active");this.index=a},to:function(a){var c=this;if(!c.running){var b=a%this.count;b!=c.index&&(c.running=!0,a=c.wrapper.children().eq(b),a=-b*a.outerWidth(!0),this.animate?this.wrapper.animate({left:a},100,function(){c._active(b);c.running=!1}):(this.wrapper.css({left:a}),c._active(b),c.running=!1))}},swipePrev:function(){var a=this.index-1;0>a&&(a=this.wrapper.children().length-1);this.to(a)},swipeNext:function(){var a=this.index+1,c=this.wrapper.children().length;
a+1>c&&(a=0);this.to(a)}});d.Switcher=r;var v=function(a){this.target=a;var c=this.nav=this.target.find(".kg-nav");this.content=this.target.find(".kg-tab-content");a=c.children();c=c.children(".active");0==c.length&&(c=a.eq(0));this.active(c);this.init()};v.prototype={active:function(a){this.activeLi&&(this.activeContent.removeClass("active"),this.activeLi.removeClass("active"));a.addClass("active");var c=a.children("a").attr("kg-target"),c=this.target.find("."+c);c.addClass("active");this.activeLi=
a;this.activeContent=c},init:function(){var a=this;this.target.find(".kg-nav li").click(function(c){c.preventDefault();c=$(this);c.hasClass("active")||a.active(c)})}};d.tab=function(a){return new v(a)};var e={dialogConfig:{okValue:"\u786e\u5b9a",cancelValue:"\u5173\u95ed",modal:!0,fixed:!0,backdropOpacity:.2},alertConfig:{},loadingConfig:{}},w=function(a,c,b){var f=q[a];if(!f){var k=b.okCall;k&&delete b.okCall;b=d.extend({onOk:function(){var a=!0;k&&(a=0==k.call(this)?!1:!0);a&&this.close();return!1}},
b);f=q[a]=e.showDialog(a,b)}f.on("remove",function(){delete q[a]});f.content(c).show();return f};e.code=function(a,b){return e.alert(g.msg(a,b||"then"))};e.alert=function(a,b){var c=d.extend({title:"\u63d0\u793a",okCall:b},e.alertConfig);return w("alert",'<div class="kg-dialog kg-alert" ><i class="kg-icon kg-icon-attention-circled"></i>'+a+"</div>",c)};e.showLoading=function(a){a=d.extend({onOk:!1},e.loadingConfig);return w("loading",'<div class="kg-loading"><img title="\u52a0\u8f7d\u4e2d..." src="data:image/gif;base64,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"></div>',
a)};e.hideLoading=function(){var a=q.loading;a&&a.close()};e.showDialog=function(a,b){var c=m(a,b);c.show();return c};var x=e.template={sealTpl:'<div class="kg-dialog kg-dialog-runSignature" id="sealTpl-dialog"><div class=" kg-switcher" id="kg-switcher" ><a class="arrow-left arrow" href="#"><i class="kg-icon kg-icon-angle-left" /></a><a class="arrow-right arrow" href="#"><i class="kg-icon kg-icon-angle-right"/></a><div class="kg-pagin"><d\tiv class="kg-guide"></div>\t</div><div class="kg-container" ><div class="kg-wrapper"><% var seals = this.seals; %><% for(var i=0;i<seals.length;i++) {%><div class="kg-slide" title="<%seals[i].signname%>"><div class="kg-image"><div class="title"><%seals[i].signname%></div><a class="kg-img" href="#" ><img src="data:image/<%seals[i].imgext.substring(1)%>;base64,<%arguments[arguments.length-1](seals[i])%>"></a></div><div class="kg-shade" style="z-index:100;"><img width="100%" height="100%"  src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVR42mNgAAIAAAUAAen63NgAAAAASUVORK5CYII="></div></div><%}%></div></div></div><div class="kg-form"><div class="form-item clearfix i-password"><div class="kg-sm kg-sm-2"></div><label class="kg-sm kg-sm-2 kg-label">\u5bc6\u7801\uff1a</label><div class="kg-sm kg-sm-6"> <input type="password" name="password" id="kg-password" class="form-control"></div><div class="kg-sm kg-sm-2"></div> </div><div class="kg-sm kg-sm-2"></div><div class="form-item clearfix i-password"><div class="kg-sm kg-sm-6"><input type="checkbox" name="remenberPwd" id="kg-remenberPwd">                   \u8bb0\u4f4f\u5bc6\u7801</div> </div> </div></div></div>',
passwordTpl:'<div id="kg-verifyPass" class="kg-dialog kg-dialog-password"><div class="kg-form"><div class="form-item clearfix i-password"><label class="kg-sm kg-sm-3 kg-label">\u5bc6\u7801\uff1a</label><div class="kg-sm kg-sm-8"> <input type="password" name="password" id="kg-password" class="form-control"></div> </div></div></div>'},y=function(a){var b=[a],e=d.slice(arguments,1),f,k;0<e.length&&(k=e[0],1<e.length&&(f=e.slice(1)));b.push(k);return b.concat(f)};e.showTplDialog=function(a,b,f){var c=
d.slice(arguments,2),k=d.extend({content:function(){return d.template.apply(null,[x[a]].concat(c))}},b);return e.showDialog(a,k)};e.showTemplateDialog=function(a){var b=y.apply(null,d.slice(arguments));return e.showTplDialog.apply(e,b)};e.create=function(a){d.extend(this,e);this.king=a};var t=function(){e.hideLoading();return!0},f=e.create.prototype;f.verifyKeyPass=function(a,b){var c=this,f=c.king,k=d.slice(arguments),g=k.slice(2),h={title:"\u7535\u5b50\u7b7e\u7ae0",onOk:function(){var c=this,d=
c.find("#kg-password").val();d?(e.showLoading(),f.invoke("KGVerifyPin",d,a).ret(function(a){e.hideLoading();a.result?0!=b.call(c)&&c.close():e.code(a.errcode)}).fail(function(a,b){e.hideLoading();e.code(b)})):e.alert("\u8bf7\u8f93\u5165\u5bc6\u7801\uff01");return!1},onCancel:t};d.is("Function",k[2])&&(h.onCancel=k[2],g=k.slice(3));f.ret(function(){c.showTemplateDialog.apply(this,["passwordTpl",h].concat([a].concat(g)))})};f.keySign=function(a,b){var c=this,f=c.king,k=d.slice(arguments),g=k.slice(2),
h={title:"\u7535\u5b50\u7b7e\u7ae0",onOk:function(){var c=this,k=c.find("#kg-password").val();if(k){var g,h;if(d.is("Array",a))for(var l=0;l<a.length;l++){var n=a[l];0<l&&(g+=";",h+=";");g+=n;h=n.length}else g=a,h=g.length;e.showLoading();f.invoke("KGCrySignMessage",k,g,h).ret(function(a){e.hideLoading();a.result?a.signeddata&&a.signeddata[0]?0!=b.call(c,a)&&c.close():e.code("signErr"):e.code(a.errcode)}).fail(function(a){e.hideLoading();e.code(a)})}else e.alert("\u8bf7\u8f93\u5165\u5bc6\u7801\uff01");
return!1},onCancel:t};d.is("Function",k[2])&&(h.onCancel=k[2],g=k.slice(3));f.ret(function(){c.showTemplateDialog.apply(this,["passwordTpl",h].concat(g)).show()})};f.showSeals=function(a,b){var c=this,f=c.king,g=d.slice(arguments),h=g.slice(2),m={title:"\u7535\u5b50\u7b7e\u7ae0",onShow:function(){var a=this,b=a.find(".kg-switcher");if(b.length){var e=new r(b[0],c.switcher);$(".arrow-right").click(function(a){a.preventDefault();e.swipeNext()});$(".arrow-left").click(function(a){a.preventDefault();
e.swipePrev()});$(".kg-guide span").click(function(a){a.preventDefault();e.to(+this.getAttribute("index"))})}setTimeout(function(){a.find("#kg-password").focus()},40)},onOk:function(){var c=this,d=c.find("#kg-password"),g=d.val();if(!g)return e.alert("\u8bf7\u8f93\u5165\u5bc6\u7801\uff01",function(){setTimeout(function(){d.focus()},100)}),!1;var h=c.find(".kg-wrapper .active");e.showLoading();f.invoke("KGVerifyPin",g,a.keysn).ret(function(d){e.hideLoading();d.result?0!=b.call(c,a.seals[h.attr("index")],
g)&&c.close():e.code(d.errcode)}).fail(function(a){e.hideLoading();e.code(a)});return!1},onCancel:t};d.is("Function",g[2])&&(m.onCancel=g[2],h=g.slice(3));f.ret(function(){var b=["sealTpl",m].concat([a].concat(h));b.push(p);c.showTemplateDialog.apply(this,b)})};f=function(a){return 0==arguments.length?e:new e.create(a)};f.changeSkin=function(a){d.extend(m.prototype,a)};b.kingPlus=f})(this,kinggrid);
// V1.0.0.254    
//# sourceMappingURL=c:/kinggrid.plus.min.map
