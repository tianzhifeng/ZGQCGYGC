@{
    ViewBag.Title = "ContractProjectSelect";
}
<div class="mini-toolbar" style="padding: 2px; border-bottom: 0;">
    <table style="width: 100%;">
        <tr>
            <td style="width: 100%;">
                <a class="mini-button" iconcls="icon-add" onclick="returnValue();" plain="true">导入</a>
            </td>
            <td style="white-space: nowrap;">
                <input class="mini-buttonedit searchbox" id="key" emptytext="请输入项目名称或项目编号" style="width: 200px;"
                    onenter="quickSearch('Name,Code');" onbuttonclick="quickSearch('Name,Code');" />
            </td>
        </tr>
    </table>
</div>
<div class="mini-fit" style="height: 100px;">
    <div id="dataGrid" url="GetList" class="mini-datagrid" style="width: 100%; height: 100%;"
        idfield="ID">
        <div property="columns">
            <div type="checkcolumn">
            </div>
            <div field="Name" width="*" headeralign="center" allowsort="true">
                项目名称</div>
            <div field="Code" width="150" headeralign="center" allowsort="true">
                项目编号</div>
            <div field="ProjectClass" width="90" headeralign="center" allowsort="true" align="center">
                项目类型</div>
            <div field="ProjectLevel" headeralign="center" width="90" allowsort="true" align="center">
                项目规模</div>
            <div field="ChargeUserName" headeralign="center" width="100" allowsort="true" align="center">
                项目负责人</div>
            <div field="ProjectState" headeralign="center" width="100" allowsort="true" align="center">
                生产项目状态</div>
            <div field="ContractName" headeralign="center" width="200" allowsort="true" align="left">
                合同名称</div>
            <div field="ContractBelongYearMonth" headeralign="center" width="100" allowsort="true"
                align="center">
                合同归属年月</div>
            <div field="ContractRMBAmount" headeralign="center" width="100" allowsort="true"
                align="right">
                合同金额(元)</div>
        </div>
    </div>
</div>
<script type="text/javascript">
@Html.GetEnum("System.AptitudeLevel");
@Html.GetEnum("Project.ProjectState");
</script>
<script type="text/javascript">
    addGridEnum("dataGrid", "ProjectLevel", "AptitudeLevel");
    addGridEnum("dataGrid", "ProjectState", "ProjectState");

    function returnValue() {
        var dataGrid = mini.get("dataGrid");
        var row = dataGrid.getSelected();
        closeWindow(row);
    }
</script>
